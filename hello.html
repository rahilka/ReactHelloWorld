<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Hello World</title>
    <script src="https://unpkg.com/react@latest/dist/react.js"></script>
    <script src="https://unpkg.com/react-dom@latest/dist/react-dom.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
  </head>
  <body>
    <!-- We call this a "root" DOM node because everything inside it will be managed by React DOM. -->
    <div id="root"></div>
    <script type="text/babel">

      // Components let you split the UI into independent, reusable pieces, and think about each piece in isolation.
      // Conceptually, components are like JavaScript functions.
      // They accept arbitrary inputs (called "props") and return React elements describing what should appear on the screen.

      // This function is a valid React component because it accepts a single "props" object argument with data and returns a React element.
      function Welcome(props) {
        return <h1>Hello, {props.name}!</h1>;
      } //We call such components "functional" because they are literally JavaScript functions.

      // ALWAYS start component names with a capital letter.

      // Class component example:
      // class Welcome extends React.Component {
      //   render() {
      //     return <h1>Hello, {this.props.name}!</h1>
      //   }
      // }

      function App() {
        return (
          <div>
            <Welcome name="Rahilka" />
            <Welcome name="Ljubica" />
            <Welcome name="Ana" />
            <Welcome name="Risto" />
          </div>
        )
      } //Typically, new React apps have a single App component at the very top.
      // COMPONENTS MUST RETURN A SINGLE ROOT ELEMENT !!

      // When React sees an element representing a user-defined component (in our case - Welcome),
      // it passes JSX attributes (in our case: name="Rahilka") to this component as a single object.
      // We call this object "props".
      // So we can access the name property on the props obejct, with: props.name
      // Now props looks like: props = { name: "Rahilka" }

      const element = <Welcome name="Rahilka" />;

      function Avatar(props) {
        return(
          <img
            src={props.user.avatarUrl}
            alt={props.user.name}
          />
        )
      }

      function UserInfo(props) {
        return(
          <div>
            <Avatar user={props.user} />
            <div>
              {props.user.name}
            </div>
          </div>
        );
      }

      // PROPS ARE READ_ONLY

      // Single strict rule in React:
      // All React components must act like pure functions with respect to their props.
      // Pure function meaning: not attempt to change the input, and always return the same result for the same inputs

      function Comment(props) {
        return (
          <div>
            <UserInfo user={props.author} />
            <div>
              {props.text}
            </div>
            <div>
              {props.date}
            </div>
          </div>
        )
      }

      const comment = {
        date: new Date().toLocaleDateString(),
        text: `I'm enjoying learning React`,
        author: {
          name: 'Pablo Neruda',
          avatarUrl: 'some invalid url'
        }
      }


      ReactDOM.render(
        <Comment date={comment.date} text={comment.text} author={comment.author} />,
        document.getElementById('root')
      );

      // What happens in this example:
      // 1. We call ReactDOM.render() with the <Welcome name="Rahilka" /> element.
      // 2. React calls the Welcome component with {name: 'Rahilka'} as the props.
      // 3. Our Welcome component returns a <h1>Hello, Rahilka</h1> element as the result.
      // 4. eact DOM efficiently updates the DOM to match <h1>Hello, Rahilka</h1>

    </script>
  </body>
</html>
